<h2>1、SSH连接</h2> <br><p>        InternStudio 是大模型时代下的云端算力平台，也是本次实验平台。</p> <br><h3>1.1、创建开发机（<a class="link-info" href="https://studio.intern-ai.org.cn/" rel="nofollow" title="InternStudio连接">InternStudio连接</a>）</h3> <br><p>        首先打开上面的链接进入InternStudio，完成登录会自动跳转到控制台界面。选择创建<strong>个人开发机</strong>，名称为<strong>test</strong>，<strong>Cuda</strong>版本为12.2，<strong>资源配置</strong>选择10%，时长默认就行。</p> <br><h3>1.2、使用SSH远程连接开发机</h3> <br><p>        打开自己电脑的powerShell终端，使用<strong>Win+R</strong>快捷键打开运行框，输入powerShell，打开powerShell终端。同时回到开发机平台，进入<strong>开发机</strong>页面找到我们创建的开发机，点击<strong>SSH连接</strong>。将复制的命令粘贴到powershell中，然后回车，还要输入密码，注意这里密码粘贴密码是不显示的（powershell使用鼠标右键进行粘贴）。</p> <br><p style="text-align:center"><img alt="" src="https://i-blog.csdnimg.cn/direct/8f2bf8f0daef48d782874e4490bdd3b0.bmp" /></p> <br><h3>1.3 配置SSH密钥进行SSH远程连接</h3> <br><p>        每次远程都输入密码比较麻烦，我们可以设置SSH key来跳过输入密码这一步骤，命令为：</p> <br><pre><code class="hljs">ssh-keygen -t rsa</code></pre> <br><p>        输入命令后<strong>一路回车</strong>就可以了。</p> <br><p style="text-align:center"><img alt="" src="https://i-blog.csdnimg.cn/direct/b43218b3fdc949abb646cdcc097d0d2b.bmp" /></p> <br><p>        这里的密钥默认情况下是生成在<code>~/.ssh/</code>目录下的，<code>~</code>表示的是家目录，如果是windows就是<code>C:\Users\{your_username}\</code>。在powerShell中可以使用<code>Get-Content</code>命令查看生成的密钥，如果是linux操作系统可以使用<code>cat</code>命令。</p> <br><p><img alt="" src="https://i-blog.csdnimg.cn/direct/85eb243e8c1d450a8ace76818f17d629.bmp" /></p> <br><p>        然后我们回到开发机平台，在首页点击配置<strong>SSH Key</strong>，接着点击<strong>添加SSH公钥。</strong>将刚刚生成的密钥复制下来，粘贴到公钥框中，名称会被自动识别到，最后点击立即添加，SSH Key就配置完成了。</p> <br><h3>1.4、使用VScode进行SSH远程连接</h3> <br><p>        打开VScode，可以在点击左侧的扩展页面，在搜索框中输入“SSH”，第一个就是我们要安装的插件，点开它“Install”。安装完成插件以后，点击侧边栏的远程连接图标，在SSH中点击“+”按钮，添加开发机SSH连接的登录命令。配置文件默认就行，然后在右下角弹出来的提示窗口中点击“连接”就可以远程到开发机中了。</p> <br><p style="text-align:center"><img alt="" src="https://i-blog.csdnimg.cn/direct/100ae3450a224f30aae7223a16dbbbe9.bmp" /></p> <br><h2>2、端口映射</h2> <br><h3>2.1、使用 ssh 命令进行端口映射</h3> <br><p>        在开发机界面，点击<strong>自定义服务</strong>，复制第二条命令，例如：</p> <br><pre><code class="hljs">ssh -p 37367 root@ssh.intern-ai.org.cn -CNg -L {本地机器_PORT}:127.0.0.1:{开发机_PORT} -o StrictHostKeyChecking=no</code></pre> <br><p>        当然，我们还需要创建一个hello_world.py文件，代码如下：</p> <br><pre><code class="language-python">import socket<br>import re<br>import gradio as gr<br> <br># 获取主机名<br>def get_hostname():<br>    hostname = socket.gethostname()<br>    match = re.search(r'-(\d+)$', hostname)<br>    name = match.group(1)<br>    <br>    return name<br> <br># 创建 Gradio 界面<br>with gr.Blocks(gr.themes.Soft()) as demo:<br>    html_code = f"""<br>            <p align="center"><br>            <a href="https://intern-ai.org.cn/home"><br>                <img src="https://intern-ai.org.cn/assets/headerLogo-4ea34f23.svg" alt="Logo" width="20%" style="border-radius: 5px;"><br>            </a><br>            </p><br>            <h1 style="text-align: center;">☁️ Welcome {get_hostname()} user, welcome to the ShuSheng LLM Practical Camp Course!</h1><br>            <h2 style="text-align: center;">😀 Let’s go on a journey through ShuSheng Island together.</h2><br>            <p align="center"><br>                <a href="https://github.com/InternLM/Tutorial/blob/camp3"><br>                    <img src="https://oss.lingkongstudy.com.cn/blog/202410081252022.png" alt="Logo" width="50%" style="border-radius: 5px;"><br>                </a><br>            </p><br><br>            """<br>    gr.Markdown(html_code)<br><br>demo.launch()</code></pre> <br><p>        现在在Web IDE的终端中运行了一个<code>hello_world.py</code></p> <br><p style="text-align:center"><code><img alt="" src="https://i-blog.csdnimg.cn/direct/d5fea1904bcc46e3929a2b561b40c569.bmp" /></code></p> <br><p>        在网页中打开连接就可以看到web ui的界面。</p> <br><p style="text-align:center"><img alt="" src="https://i-blog.csdnimg.cn/direct/e69f31b5e8cf4099874e1414979a7186.bmp" /></p> <br><h3>2.2、使用 vscode 进行端口映射</h3> <br><p>        我们前面SSH远程连接了开发机，VScode提供了自动端口映射的功能，不需要手动配置。我们可以使用“Ctrl+Shift+~”快捷键<strong>唤醒终端</strong>，在终端的右侧可以找到端口选项：</p> <br><p><img alt="" src="https://i-blog.csdnimg.cn/direct/befeda96dad44e1ba584dd62f7c15690.bmp" /></p>
